### 토픽이란?
카프카에는 다양한 데이터가 들어갈 수 있는데 데이터가 들어갈 수 있는 공간을 토픽이라고 합니다. 카프카 토픽은 일반적인 AMQP와는 다르게 동작합니다. 

카프카에서는 여러 개의 토픽을 생성할 수 있습니다.
토픽은 데이터 베이스의 테이블이나 파일 시스템의 폴더와 유사한 시스템을 가지고 있는데, 해당 토픽에 카프카 프로듀서가 데이터를 넣게 되고 컨슈머가 데이터를 가져가게 됩니다. 

토픽은 이름을 가질 수 있습니다.
click_log, send_sms, location_log 등 어떤 데이터를 넣는지 명확하게 명시하면 유지보수가 편합니다. 

하나의 토픽은 여러 개의 파티션으로 구성될 수 있으며, 첫 번째 파티션 번호는 0번 부터 시작됩니다. 
하나의 파티션은 큐와 같이 내부의 데이터가 파티션 끝에서 부터 차곡차곡 쌓이게 됩니다. 

컨슈머가 토픽에 접근해서 데이터를 가져갈 때는 가장 오래된 순서대로 가져옵니다. 더이상 데이터가 들어오지 않으면 컨슈머는 또 다른 데이터가 들어올 때 까지 기다리고 있습니다.

여기서 알아야될 사실은 컨슈머가 토픽에서 데이터를 가져가더라도 데이터는 삭제되지 않는다는 사실입니다. 즉, 파티션에 그대로 남게 됩니다. 

파티션에 남은 데이터는 누가 데리고 가는걸까요? 바로 새로운 컨슈머입니다. 다만 컨슈머 그룹이 달라야 하고 auto.offset.reset = earliest 로 설정되어 있어야 합니다.

위와 같이 사용할 경우 동일 데이터를 여러 번 사용할 수 있는데 이는 카프카를 사용하는 매우 중요한 이유 중 하나입니다. 클릭 로그를 저장하기 위해 Elastic Search에 저장하기도 하며, 클릭 로그를 백업하기 위해 Hadoop에 저장하기도 합니다.

